set -g default-terminal "screen-256color"
set -ag terminal-overrides ",xterm-256color:Tc"
set-option -g focus-events on

### KEYMAPS ###

set -g prefix C-s

bind | split-window -h                            # split horizontally using <C-s>|
bind - split-window -v                            # split vertically using <C-s>-
bind x kill-pane                                  # remove confirmation for closing panes
bind r source-file ~/.config/tmux/tmux.conf       # reload config file

source-file ~/.config/tmux/smart-panes.tmux.conf  # switch between vim/tmux/yabai panes

### GLOBALS ###

set -g base-index 1           # number windows starting from 1
set -g renumber-windows on    # renumber windows when any window is closed
set -g detach-on-destroy off  # don't exit from tmux when closing a session
set -g set-clipboard on       # enable system clipboard
set -g mouse on               # mouse mode
set -g allow-passthrough on   # fix yazi's image rendering
set -g escape-time 0          # zero-out escape time delay

### THEME ###

set -g status-position top
set -g status-style bg=default
set -g status-left "#[fg=color4,bg=default]#[fg=black,bg=color4]  #[fg=color4,bg=color0] #{client_user}#[fg=color0,bg=default] "
set -g status-left-length 200
set -g status-right "#[fg=color4,bg=default]#[fg=black,bg=color4]  #[fg=color4,bg=color0] #S#[fg=color0,bg=default]"
set -g window-status-current-format "#[fg=color4,bg=default]#[fg=color0,bg=color4]#I:#W#[fg=color4,bg=default]"
set -g window-status-format "#[fg=color0,bg=default]#[fg=color4,bg=color0]#I:#W#[fg=color0,bg=default]"

### PLUGINS ###

set -g @plugin "tmux-plugins/tpm"
set -g @plugin "tmux-plugins/tmux-yank"
set -g @plugin "tmux-plugins/tmux-resurrect"
set -g @plugin "tmux-plugins/tmux-continuum"

run "~/.tmux/plugins/tpm/tpm"
